/* ===========================
   Dashboard (component SCSS)
   =========================== */

.page{
  max-width:1280px;
  margin:28px auto;
  padding:0 18px;
}

/* ---------- Topbar / Header ---------- */
.topbar{
  display:grid;
  row-gap:16px;
  margin-bottom:18px;

  .brand{
    display:flex;
    gap:10px;
    align-items:center;

    .logo{
      width:36px;height:36px;display:grid;place-items:center;
      /* gradiente da logo agora em tons de azul claro */
      background: linear-gradient(135deg,var(--brand-500),var(--info));
      border-radius:10px;
      color:#fff;
      font-weight:700;
      box-shadow:0 10px 30px rgba(59,130,246,.3);
    }

    h1{
      font-size:20px;
      margin:0;
      font-weight:700;
      letter-spacing:.3px;
      color: var(--text);
    }
  }
}

/* ---------- Painel dos filtros ---------- */
.filters-panel{
  padding:14px;
  border-radius:16px;

  /* borda agora usa --line (cinza translúcido escuro suave) */
  border:1px solid var(--line);

  /* fundo branco translúcido, com blur leve glass */
  background: rgba(255,255,255,.7);
  backdrop-filter: blur(8px);

  /* sombra suave azulada em vez de sombra pesada preta */
  box-shadow:0 20px 40px rgba(15,23,42,.08);
}

/* Grid dos campos + botão */
.filters{
  display:grid;
  grid-template-columns: 240px 1fr 1fr auto;
  gap:12px;
  align-items:center;
}

/* altura compacta */
.dense{
  --mat-form-field-container-height: 48px;
  --mat-form-field-container-text-size: 14px;
}

/* ===== Overrides Angular Material (tema claro) ===== */
/* Aqui só mudamos as variáveis de cor. Layout do field continua igual. */
.filters .mat-mdc-form-field{
  --field-bg: rgba(255,255,255,.75);       /* fundo claro translúcido */
  --field-border: rgba(0,0,0,.12);         /* borda cinza leve */
  --field-border-hover: rgba(0,0,0,.20);   /* hover um pouquinho mais escuro */
  --field-border-focus: #60A5FA;           /* azul clarinho em foco */
  --field-label: #64748B;                  /* slate-500 */
  --field-text: #1E293B;                   /* slate-800 */
}

/* fundo do input/select */
.filters .mdc-text-field--outlined{
  background: var(--field-bg);
  border-radius:12px;
}

/* Borda padrão / hover / focus */
.filters .mdc-notched-outline__leading,
.filters .mdc-notched-outline__trailing,
.filters .mdc-notched-outline__notch{
  border-color: var(--field-border) !important;
}

.filters .mat-mdc-form-field:hover .mdc-notched-outline__leading,
.filters .mat-mdc-form-field:hover .mdc-notched-outline__trailing,
.filters .mat-mdc-form-field:hover .mdc-notched-outline__notch{
  border-color: var(--field-border-hover) !important;
}

.filters .mat-mdc-form-field.mat-focused .mdc-notched-outline__leading,
.filters .mat-mdc-form-field.mat-focused .mdc-notched-outline__trailing,
.filters .mat-mdc-form-field.mat-focused .mdc-notched-outline__notch{
  border-color: var(--field-border-focus) !important;
}

/* label, texto e placeholders agora escuros/acinzentados */
.filters .mat-mdc-form-field-label{
  color: var(--field-label) !important;
}
.filters .mat-mdc-input-element,
.filters .mat-mdc-select-value-text{
  color: var(--field-text) !important;
}
.filters .mat-mdc-select-placeholder{
  color:#94a3b8 !important;
}

/* ícones (seta select, calendário) agora escuros */
.filters .mat-mdc-select-arrow,
.filters .mat-datepicker-toggle-default-icon,
.filters .mat-mdc-icon-button{
  color: var(--field-text) !important;
  fill: var(--field-text) !important;
}

/* botão alinhado à altura dos campos */
.filters .btn-primary{
  height:48px;
  padding:0 16px;
  border-radius:12px;
}

/* ---------- KPIs ---------- */
.kpis{
  display:grid;
  grid-template-columns:repeat(4,1fr);
  gap:14px;
  margin-bottom:16px;
}

.stat-card{
  position:relative;
  padding:16px;
  border-radius:16px;
  overflow:hidden;

  /* cards agora bem claros, “cartão branco elevado” */
  background:linear-gradient(
      135deg,
      rgba(255,255,255,.9),
      rgba(255,255,255,.7)
  );
  border:1px solid var(--line);

  /* blur leve só pra dar cara de vidro */
  backdrop-filter: blur(10px);

  /* sombra suave clara (não mais sombra preta pesada) */
  box-shadow:0 16px 32px rgba(15,23,42,.08);

  .stat-icon{
    position:absolute;
    top:12px;
    right:12px;
    width:42px;
    height:42px;
    border-radius:12px;
    display:grid;
    place-items:center;
    color:#fff;
    opacity:.95;
    /* continua sendo gradiente coloridinho mais escuro,
       o contraste com branco fica lindo */
  }

  .stat-title{
    font-size:12px;
    color:var(--muted);
    text-transform:uppercase;
    letter-spacing:.08em
  }
  .stat-value{
    font-size:26px;
    font-weight:700;
    margin:4px 0 6px;
    color:var(--text);
  }
  .stat-foot{
    font-size:12px;
    color:var(--muted)
  }
}

/* cores dos KPIs (mantemos saturadas pra dar foco visual) */
.kpi-1 .stat-icon{
  background:linear-gradient(135deg,#60A5FA,#3B82F6);
}
.kpi-2 .stat-icon{
  background:linear-gradient(135deg,#34D399,#10B981);
}
.kpi-3 .stat-icon{
  background:linear-gradient(135deg,#F59E0B,#F97316);
}
.kpi-4 .stat-icon{
  background:linear-gradient(135deg,#FB7185,#EF4444);
}

/* ---------- Painel do gráfico ---------- */
.panel{
  border:1px solid var(--line);
  border-radius:16px;

  /* cartão branco translúcido com blur leve */
  background:rgba(255,255,255,.8);
  backdrop-filter: blur(8px);

  box-shadow:0 16px 32px rgba(15,23,42,.08);

  .panel-head{
    display:flex;
    align-items:center;
    justify-content:space-between;
    padding:14px 16px;
    border-bottom:1px solid var(--line);

    h3{
      margin:0;
      font-size:16px;
      font-weight:700;
      color: var(--text);
    }
  }

  .panel-actions{
    display:flex;
    gap:8px;
  }
}

.chart-area{
  position:relative;
  height:420px;
  padding:10px;

  &.loading{
    opacity:.6;
    filter:grayscale(.1);
  }
}

/* skeleton agora cinza translúcido em vez de “brilho branco” */
.skeleton{
  position:absolute;
  inset:0;
  border-radius:0 0 16px 16px;
  background:linear-gradient(
      100deg,
      rgba(0,0,0,.04) 20%,
      rgba(0,0,0,.08) 40%,
      rgba(0,0,0,.04) 60%
  );
  background-size:200% 100%;
  animation:shimmer 1.2s infinite;
}

@keyframes shimmer{
  to{background-position-x:-200%;}
}

/* ---------- Mensagens ---------- */
.messages{
  padding:10px 16px 14px;

  .error{
    color:#dc2626; /* vermelho mais consistente no claro */
  }
  .info{
    color:#2563eb; /* azul mais forte, legível no claro */
  }
}

/* ---------- Botões reutilizáveis ---------- */
.btn-primary,
.btn-ghost{
  display:inline-flex;
  gap:8px;
  align-items:center;
  border-radius:12px;
  border:1px solid var(--line);
  padding:10px 14px;
  font-weight:600;
  cursor:pointer;
  background:transparent;
  color:var(--text);
}

/* botão primário agora usa gradiente de azul claro */
.btn-primary{
  background:linear-gradient(
      135deg,
      var(--brand-600),
      var(--info)
  );
  border:0;
  box-shadow:0 12px 28px rgba(96,165,250,.4);
  color:#1E293B; /* texto escuro sobre azul claro */
}

.btn-primary:disabled{
  opacity:.6;
  cursor:not-allowed;
}

/* hover ghost agora usa leve cinza escuro transparente (não mais branco translúcido) */
.btn-ghost:hover{
  background:rgba(0,0,0,.03);
}

/* ---------- Snackbar / Toasts ---------- */
.toast-error {
  .mdc-snackbar__surface {
    background: linear-gradient(130deg, #7f1d1d 0%, #dc2626 60%);
    color: #fff;
    border-radius: .6rem;
    box-shadow: 0 20px 40px rgba(220,38,38,.4);
    border: 1px solid rgba(0,0,0,.15);
  }

  .mdc-snackbar__label,
  .mdc-button__label {
    color: #fff !important;
    font-weight: 500;
    font-size: .8rem;
    line-height: 1.2;
  }
}

.toast-info {
  .mdc-snackbar__surface {
    background: radial-gradient(circle at 0% 0%, #2563eb 0%, #60A5FA 70%);
    color: #fff;
    border-radius: .6rem;
    box-shadow: 0 20px 40px rgba(37,99,235,.3);
    border: 1px solid rgba(0,0,0,.15);
  }

  .mdc-snackbar__label,
  .mdc-button__label {
    color: #fff !important;
    font-weight: 500;
    font-size: .8rem;
    line-height: 1.2;
  }
}

/* snackbar largura */
.mdc-snackbar {
  max-width: min(360px, calc(100% - 2rem));
}

/* ---------- Responsivo ---------- */
@media (max-width: 980px){
  .filters{ grid-template-columns: 1fr; }
  .kpis{ grid-template-columns: repeat(2,1fr); }
}

@media (max-width: 560px){
  .kpis{ grid-template-columns: 1fr; }
  .chart-area{ height: 320px; }
}
